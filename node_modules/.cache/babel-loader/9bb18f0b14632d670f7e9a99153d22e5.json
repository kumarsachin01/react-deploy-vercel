{"ast":null,"code":"import\"../styles/ProductScreen.css\";import{useState,useEffect}from\"react\";import{useSelector,useDispatch}from\"react-redux\";// Actions\nimport{getProductDetails}from\"../redux/actions/productActions\";import{addToCart}from\"../redux/actions/cartActions\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ProductScreen=_ref=>{let{match,history}=_ref;const[qty,setQty]=useState(1);const dispatch=useDispatch();const productDetails=useSelector(state=>state.getProductDetails);const{loading,error,product}=productDetails;useEffect(()=>{if(product&&match.params.id!==product._id){dispatch(getProductDetails(match.params.id));}},[dispatch,match,product]);const addToCartHandler=()=>{dispatch(addToCart(product._id,qty));history.push(\"/cart\");};return/*#__PURE__*/_jsx(\"div\",{className:\"productscreen\",children:loading?/*#__PURE__*/_jsx(\"h2\",{children:\"Loading...\"}):error?/*#__PURE__*/_jsx(\"h2\",{children:error}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"productscreen__left\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"left__image\",children:/*#__PURE__*/_jsx(\"img\",{src:product.imgsrc,alt:product.title})}),/*#__PURE__*/_jsxs(\"div\",{className:\"left__info\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"left__name\",children:product.title}),/*#__PURE__*/_jsxs(\"p\",{children:[\" \",/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:\"bold\",fontSize:\"14px\"},children:\"Price:\"}),\" \\u20B9\",product.price]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:\"bold\",fontSize:\"14px\"},children:\"Indiaction:\"}),\" \",product.indication]}),/*#__PURE__*/_jsxs(\"p\",{children:[\" \",/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:\"bold\",fontSize:\"14px\"},children:\"Dosage:\"}),\" \",product.indication]}),/*#__PURE__*/_jsxs(\"p\",{children:[\" \",/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:\"bold\",fontSize:\"14px\"},children:\"Side Effects:\"}),\" \",product.dosage]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"productscreen__right\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"right__info\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Price:\",/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u20B9\",product.price]})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Status:\",/*#__PURE__*/_jsx(\"span\",{children:product.countInStock>0?\"In Stock\":\"Out of Stock\"})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Qty\",/*#__PURE__*/_jsx(\"select\",{value:qty,onChange:e=>setQty(e.target.value),children:[...Array(product.countInStock).keys()].map(x=>/*#__PURE__*/_jsx(\"option\",{value:x+1,children:x+1},x+1))})]}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"cart_btn\",onClick:addToCartHandler,children:\"Add To Cart\"})})]})})]})});};export default ProductScreen;","map":{"version":3,"names":["useState","useEffect","useSelector","useDispatch","getProductDetails","addToCart","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ProductScreen","_ref","match","history","qty","setQty","dispatch","productDetails","state","loading","error","product","params","id","_id","addToCartHandler","push","className","children","src","imgsrc","alt","title","style","fontWeight","fontSize","price","indication","dosage","countInStock","value","onChange","e","target","Array","keys","map","x","type","onClick"],"sources":["E:/react-deploy-vercel/src/screens/ProductScreen.js"],"sourcesContent":["import \"../styles/ProductScreen.css\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\n\r\n// Actions\r\nimport { getProductDetails } from \"../redux/actions/productActions\";\r\nimport { addToCart } from \"../redux/actions/cartActions\";\r\n\r\nconst ProductScreen = ({ match, history }) => {\r\n  const [qty, setQty] = useState(1);\r\n  const dispatch = useDispatch();\r\n\r\n  const productDetails = useSelector((state) => state.getProductDetails);\r\n  const { loading, error, product } = productDetails;\r\n\r\n  useEffect(() => {\r\n    if (product && match.params.id !== product._id) {\r\n      dispatch(getProductDetails(match.params.id));\r\n    }\r\n  }, [dispatch, match, product]);\r\n\r\n  const addToCartHandler = () => {\r\n    dispatch(addToCart(product._id, qty));\r\n    history.push(`/cart`);\r\n  };\r\n\r\n  return (\r\n    <div className=\"productscreen\">\r\n      {loading ? (\r\n        <h2>Loading...</h2>\r\n      ) : error ? (\r\n        <h2>{error}</h2>\r\n      ) : (\r\n        <>\r\n          <div className=\"productscreen__left\">\r\n            <div className=\"left__image\">\r\n              <img src={product.imgsrc} alt={product.title} />\r\n            </div>\r\n            <div className=\"left__info\">\r\n              <p className=\"left__name\">{product.title}</p>\r\n              <p> <span style={{fontWeight: \"bold\",fontSize:\"14px\"}}>Price:</span> ₹{product.price}</p>\r\n              <p ><span style={{fontWeight: \"bold\",fontSize:\"14px\"}}>Indiaction:</span> {product.indication}</p>\r\n              <p> <span style={{fontWeight: \"bold\",fontSize:\"14px\"}}>Dosage:</span> {product.indication}</p>\r\n              <p> <span style={{fontWeight: \"bold\",fontSize:\"14px\"}}>Side Effects:</span> {product.dosage}</p>\r\n            </div>\r\n          </div>\r\n          <div className=\"productscreen__right\">\r\n            <div className=\"right__info\">\r\n              <p>\r\n                Price:\r\n                <span>₹{product.price}</span>\r\n              </p>\r\n              <p>\r\n                Status:\r\n                <span>\r\n                  {product.countInStock > 0 ? \"In Stock\" : \"Out of Stock\"}\r\n                </span>\r\n              </p>\r\n              <p>\r\n                Qty\r\n                <select value={qty} onChange={(e) => setQty(e.target.value)}>\r\n                  {[...Array(product.countInStock).keys()].map((x) => (\r\n                    <option key={x + 1} value={x + 1}>\r\n                      {x + 1}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </p>\r\n              <p>\r\n                <button type=\"button\" className=\"cart_btn\" onClick={addToCartHandler}>\r\n                  Add To Cart\r\n                </button>\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductScreen;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}